<!DOCTYPE html><html theme="dark" showbanner="true" hasbanner="true"><head><link href="/fontawesome/css/fontawesome.css" rel="stylesheet">
<link href="/fontawesome/css/brands.css" rel="stylesheet">
<link href="/fontawesome/css/solid.css" rel="stylesheet">


<!-- hexo injector head_begin start -->
<link rel="stylesheet" href="/css/bilicard.css">

<link rel="stylesheet" href="/source/midijs.css">

<script src="https://www.midijs.net/lib/midi.js"></script>
<!-- hexo injector head_begin end -->
  <meta charset="utf-8">
  

  
  <title>Django博客构建 | My Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="链接github仓库地址: https://github.com/dajavv/DjangoBolg 视频参考                                                                                                               03:17:16">
<meta property="og:type" content="article">
<meta property="og:title" content="Django博客构建">
<meta property="og:url" content="https://dajavv.github.io/2023/07/13/Django%E5%8D%9A%E5%AE%A2%E6%9E%84%E5%BB%BA/">
<meta property="og:site_name" content="My Blog">
<meta property="og:description" content="链接github仓库地址: https://github.com/dajavv/DjangoBolg 视频参考                                                                                                               03:17:16">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-07-13T15:43:03.000Z">
<meta property="article:modified_time" content="2023-07-21T00:54:30.884Z">
<meta property="article:author" content="浅笑笑笑">
<meta property="article:tag" content="python">
<meta property="article:tag" content="Django">
<meta name="twitter:card" content="summary">
  
  
    <link rel="shortcut icon" href="https://img1.8jppeg.com/images/64acb6103389e89b4a1690f8.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  
  
    
<div id="banner" class=""><!--横幅-->
  <img src="https://img1.8jppeg.com/images/64acb60c3389e89b4a168fd3.jpg" itemprop="image">
  <div id="banner-dim"></div><!--计划在这添加打字效果-->
</div>
 
   
  <div id="main-grid" class="shadow   ">
    <div id="nav" class="">
      <navbar id="navbar"><!--导航栏-->
  <nav id="title-nav">
    <a href="/">
      <div id="vivia-logo"><!--导航栏左侧logo-->
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
        <div class="dot"></div>
      </div>
      <div>My Blog </div><!--文字-->
    </a>
  </nav>
  <nav id="main-nav"><!--导航栏-->
    
      <a class="main-nav-link" href="/">主页</a>
    
      <a class="main-nav-link" href="/archives">归档</a>
    
      <a class="main-nav-link" href="/about">关于</a>
    
  </nav>
  <nav id="sub-nav"><!--导航栏图标-->
    <a id="theme-btn" class="nav-icon">
      <span class="material-symbols-rounded light-mode-icon">wb_sunny</span><!--白天-->
      <span class="material-symbols-rounded dark-mode-icon">dark_mode</span><!--黑夜-->
    </a>
    
    <a id="nav-search-btn" class="nav-icon" title="搜索"><!--搜索-->
      <span class="material-symbols-rounded">search</span>
    </a>
    <div id="nav-menu-btn" class="nav-icon">
      <span class="material-symbols-rounded">menu</span><!--菜单栏-->
    </div>
  </nav>
</navbar>
<div id="nav-dropdown" class="hidden">
  <div id="dropdown-link-list"><!--下拉菜单-->
    
      <a class="nav-dropdown-link" href="/">主页</a>
    
      <a class="nav-dropdown-link" href="/archives">归档</a>
    
      <a class="nav-dropdown-link" href="/about">关于</a>
    
    
    </div>
</div>


    </div>
    <div id="sidebar-wrapper">
      <sidebar id="sidebar"><!--左侧边栏-->
  
    <div class="widget-wrap"><!--介绍栏-->
  <div class="info-card">
    <div class="avatar">
      
        <img src="https://img1.8jppeg.com/images/64acb6103389e89b4a1690f8.png"><!--头像-->
      
      <div class="img-dim"></div>
    </div>
    <div class="info"><!--信息-->
      <div class="username">浅笑笑笑 </div><!--用户名-->
      <div class="dot"></div>
      <div class="subtitle">轻舟已过万重山 </div><!--副标题，签名-->
      <div class="link-list">
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://space.bilibili.com/59202265?spm_id_from=333.1007.0.0" title="bilibili"><i class="fa-brands fa-bilibili"></i></a><!--链接-->
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://store.steampowered.com" title="Steam"><i class="fa-brands fa-steam"></i></a><!--链接-->
        
          <a class="link-btn" target="_blank" rel="noopener" href="https://github.com/dajavv" title="GitHub"><i class="fa-brands fa-github"></i></a><!--链接-->
        
      </div>
    </div>
  </div>
</div>

  
    
<div class="widget-wrap"><!--公告-->
    <div class="widget">
        <h3 class="widget-title">公告</h3>
        <div class="info"><!--信息-->
            加载有点慢。多等等图标就加载出来了。。。不影响不影响<!--公告-->
        </div>
    </div>
</div>


  
    
  <div class="widget-wrap"><!--标签-->
    <div class="widget">
      <h3 class="widget-title">标签</h3>
      <ul class="widget-tag-list" itemprop="keywords"><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E5%8E%9F%E7%A5%9E/" rel="tag">原神</a></li><li class="widget-tag-list-item"><a class="widget-tag-list-link" href="/tags/%E8%BD%AC%E8%BD%BD/" rel="tag">转载</a></li></ul>
    </div>
  </div>


  
    

<!--类别-->
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">分类</h3><!--分类-->
      <div class="category-box">
            <a class="category-link" href="/categories/%E5%AD%A6%E4%B9%A0/">
                学习
                <div class="category-count">2</div>
            </a>
        
            <a class="category-link" href="/categories/md%E7%9A%84%E4%B9%A6%E5%86%99/">
                md的书写
                <div class="category-count">4</div>
            </a>
        
            <a class="category-link" href="/categories/Hexo/">
                Hexo
                <div class="category-count">3</div>
            </a>
        
            <a class="category-link" href="/categories/%E5%BB%BA%E7%AB%99%E6%97%A5%E5%BF%97/">
                建站日志
                <div class="category-count">1</div>
            </a>
        
            <a class="category-link" href="/categories/%E5%88%86%E4%BA%AB/">
                分享
                <div class="category-count">2</div>
            </a>
        
            <a class="category-link" href="/categories/test/">
                test
                <div class="category-count">1</div>
            </a>
        </div>
    </div>
  </div>


  
  <div class="sticky">
    
      
  <div class="widget-wrap"><!--最近的帖子-->
    <div class="widget">
      <h3 class="widget-title">最新文章</h3><!--在languages文件夹中的语言-->
      <ul>
        
          <li>
            <a href="/2023/07/16/Docker%E5%AE%B9%E5%99%A8/">Docker容器</a>
          </li>
        
          <li>
            <a href="/2023/07/13/Django%E5%8D%9A%E5%AE%A2%E6%9E%84%E5%BB%BA/">Django博客构建</a>
          </li>
        
          <li>
            <a href="/2023/07/11/%E5%8E%9F%E7%A5%9E%E5%B0%8F%E5%8A%A9%E6%89%8B/">原神小助手 Genshin Assistant (CN/EN) | 自动战斗,秘境,领日常,半自动委托</a>
          </li>
        
          <li>
            <a href="/2023/07/11/%E8%83%A1%E6%A1%83%E5%B7%A5%E5%85%B7%E7%AE%B1/">胡桃工具箱</a>
          </li>
        
          <li>
            <a href="/2023/07/11/makdown%E7%9A%84%E4%B9%A6%E5%86%99(%E4%B8%89)/">makdown的书写(三)</a>
          </li>
        
      </ul>
    </div>
  </div>


    
      
  <div class="widget-wrap">
    <div class="widget">
      <h3 class="widget-title">归档</h3><!--左侧栏归档-->
      
      
        <a class="archive-link" href="/archives/2023/07 ">
          七月 2023
          <div class="archive-count">14 </div>
        </a>
      
    </div>
  </div>


    
      <div class="widget-wrap">
    <div class="widget">
        <h3 class="widget-title">自定义组件</h3>
        <div class="info"><!--信息-->
        </div>
    </div>
</div>

    
  </div>
</sidebar>

    </div>
    <div id="content-body">
      
<!--post.photos为一个数组，赋值给cover-->
<!--文章-->
<article id="post-Django博客构建" class="h-entry article article-type-post" itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting">
  
    

  
  <div class="article-inner">
    <div class="article-main">
      <header class="article-header">
        
<div class="main-title-bar"><!--文章卡片，使用girl布局等分3份-->
  <div class="main-title-dot"></div>
  
    
      <h1 class="p-name article-title" itemprop="headline name">
        Django博客构建
      </h1>
    
  
</div>

        <div class="meta-info-bar">
          <div class="meta-info">
  <time class="dt-published" datetime="2023-07-13T15:43:03.000Z" itemprop="datePublished">2023-07-13</time>
</div>
          <div class="need-seperator meta-info">
            <div class="meta-cate-flex">
  
  <a class="meta-cate-link" href="/categories/%E5%AD%A6%E4%B9%A0/">学习</a>
   
</div>
<!--tag-->
          </div>
          <div class="wordcount need-seperator meta-info">
            2.4k 字<!--获取文章中的文字数量，字数-->
          </div>
        </div>
        <!--文章卡片中的tag-->
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Django/" rel="tag">Django</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/" rel="tag">python</a></li></ul>



      </header>
      <div class="e-content article-entry" itemprop="articleBody">
        
          <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><p>github仓库地址: <a target="_blank" rel="noopener" href="https://github.com/dajavv/DjangoBolg">https://github.com/dajavv/DjangoBolg</a></p>
<h3 id="视频参考"><a href="#视频参考" class="headerlink" title="视频参考"></a>视频参考</h3><div class="bvideo"><a href="//www.bilibili.com/video/BV1K94y1B7PC" target="_blank">
        <div class="bvideo-box">
            <div class="bvideo-cover">
                <div class="cover-default"></div>
                <div class="bvideo-cover-layer" style="background-image:url(https://pic1.xuehuaimg.com/proxy/http://i1.hdslb.com/bfs/archive/596f1e3320226c97082b912706e9c09e2c820c0a.png)">
                    <i class="icon-video"></i>
                </div>
                <span class="duration">03:17:16</span>
            </div>
            <div class="bvideo-info">
                <p class="title">【高分Python项目】Python+Django带你上手搭建个人博客项目，5小时做出属于自己的博客网站</p>
                <p class="card-status">
                    <span class="play-num">
                        <i class="fa fa-youtube-play"></i>
                        <span>1078</span></span>
                    <span>
                        <i class="fa fa-list-alt"></i>
                        <span>10</span></span></p>
                <div class="partition">
                    <label class="card-label">视频</label>
                    <label class="up-label"></label>
                    <label class="up-name">大聪明阳阳阳</label>
                </div>
                <div class="actions hide"></div>
            </div>
        </div>
    </a></div>

<h3 id="使用工具"><a href="#使用工具" class="headerlink" title="使用工具"></a>使用工具</h3><ul>
<li>PyCharm 2023.1</li>
<li>python3.10 版本</li>
</ul>
<h3 id="Hexo框架"><a href="#Hexo框架" class="headerlink" title="Hexo框架"></a>Hexo框架</h3><p>在使用了一段时间的Hexo博客后，对该框架的感受:</p>
<ul>
<li><h4 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h4><ul>
<li>具有很多的主题，每一款都非常好看</li>
<li>强大的模板语法</li>
<li>生态完善，具有大量插件，比如:bilibili视频的小卡片、全局搜索、评论模块</li>
</ul>
</li>
<li><h4 id="劣势"><a href="#劣势" class="headerlink" title="劣势"></a>劣势</h4><ul>
<li><strong>部署不便，要使用命令导入静态文件后部署到github，国内登入网络不稳定(痛点)</strong></li>
<li>维护较为困难</li>
<li><strong>加载缓慢</strong></li>
<li>缺少后端进行管理</li>
<li>无法对整体文章进行搜索(可以通过插件实现，比较麻烦，不考虑)</li>
<li>缺少与访客的互动</li>
<li>缺少对访客数据的记录</li>
</ul>
</li>
</ul>
<h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h3><p>对于这些问题我决定对博客进行重构，让博客具有更强的功能，我计划对Hexo框架所创建的博客进行重构。<br>在重构的同时对django框架进行学习</p>
<h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><ul>
<li><h2 id="计划"><a href="#计划" class="headerlink" title="计划"></a>计划</h2></li>
<li>(√)导航栏</li>
<li>(√)白天黑夜切换</li>
<li>(√)分类</li>
<li>(√)归档</li>
<li>(√)标签分类</li>
<li>(√)最新文章</li>
<li>(√)后台发布公告</li>
<li>(√)后台发布文章</li>
<li>(√)后台管理</li>
<li>(×)代码高亮</li>
<li><h2 id="新计划"><a href="#新计划" class="headerlink" title="新计划"></a>新计划</h2></li>
<li>(×)访客数据统计</li>
<li>(×)全站搜索</li>
<li>(×)音乐盒</li>
</ul>
<h1 id="流程"><a href="#流程" class="headerlink" title="流程"></a>流程</h1><ol>
<li>使用PyCharm创建Django项目，conda创建虚拟环境python3.10，导包</li>
<li>创建app命名为post</li>
<li>settings中添加post应用</li>
<li>对原html静态文件进行导入拆分，制作基础模版</li>
<li>配置路由，创建视图函数，</li>
<li>检查是否能正常运行显示</li>
<li>配置数据库，创建数据表，对需要进行动态更新的数据创建数据表</li>
<li>将要管理的数据表添加到admin文件中</li>
<li>使用django的模版语法将要动态改变的数据放到html中</li>
<li>完善功能(分页、分类、归档、标签归类、最新文章……)</li>
<li>对网页进行测试</li>
<li>完成</li>
</ol>
<h1 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h1><h3 id="创建应用"><a href="#创建应用" class="headerlink" title="创建应用"></a>创建应用</h3><p>打开控制台<br>(可以使用使用ctrl+alt+R快捷键打开manage专属控制台)</p>
<pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">django-admin startproject 项目名
cd 项目名
python manage.py startapp app名<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>在settings.py文件INSTALLED_APPS配置项中添加post应用</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token string">'post'</span> <span class="token comment">#添加app</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="创建基础模板"><a href="#创建基础模板" class="headerlink" title="创建基础模板"></a>创建基础模板</h3><p>对博客网页进行拆分<br>组件化拆分利于更新与维护，</p>
<ul>
<li>基础模版<ul>
<li>横幅</li>
<li>导航栏</li>
<li>侧边栏<ul>
<li>介绍卡片</li>
<li>公告</li>
<li>分类</li>
<li>标签</li>
<li>归档</li>
<li>最新文章</li>
<li>底部页脚</li>
</ul>
</li>
</ul>
</li>
<li>内容模块<ul>
<li>分类</li>
<li>归档</li>
<li>标签</li>
<li>文章选项卡</li>
<li>关于</li>
</ul>
</li>
</ul>
<h3 id="基础模板"><a href="#基础模板" class="headerlink" title="基础模板"></a>基础模板</h3><p>在基础模版中，多为静态不需要改动的页面部分,将他们封装在根目录的templates模版文件夹中</p>
<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">{% include 'banner.html' %} #横幅
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>main-grid<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>shadow<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
    {% include 'head.html' %} #导航栏
    {% include 'right.html' %} #侧边栏
    {% block main %} <span class="token comment">&lt;!--与app中的index相连--&gt;</span> #文章选项卡片
    {% endblock %}
    {% include 'footer.html' %} #底部页脚
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>back-to-top-wrapper<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token comment">&lt;!--回到顶部按键--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>back-to-top-btn<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>back-to-top-btn<span class="token punctuation">"</span></span> <span class="token special-attr"><span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value javascript language-javascript"><span class="token function">topFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">&gt;</span></span> #回到顶部的按钮
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>material-symbols-rounded<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>keyboard_arrow_up<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Django模版语法"><a href="#Django模版语法" class="headerlink" title="Django模版语法"></a>Django模版语法</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">{</span><span class="token operator">%</span> include <span class="token string">'banner.html'</span> <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token comment">#引入一部分html代码</span>
<span class="token punctuation">{</span><span class="token operator">%</span> block main <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">{</span><span class="token operator">%</span> endblock <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token comment">#页面的动态部分，后面写的会覆盖同名的代码块，在基础模版中用于占位</span>
<span class="token punctuation">{</span><span class="token operator">%</span> extends <span class="token string">'base.html'</span> <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token comment">#继承基础模版中的静态部分</span>
<span class="token punctuation">{</span><span class="token operator">%</span> block title <span class="token operator">%</span><span class="token punctuation">}</span>网页标题<span class="token punctuation">{</span><span class="token operator">%</span> endblock <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token comment">#指定该网页的标题</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> 传递过来的相应数据 <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">{</span><span class="token operator">%</span> endfor <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token comment">#和python中的for相似</span>
<span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">if</span> 判断条件 <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">elif</span> 判断条件 <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token operator">%</span> <span class="token keyword">else</span> <span class="token operator">%</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token operator">%</span> endif <span class="token operator">%</span><span class="token punctuation">}</span> <span class="token comment">#条件加载</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="静态文件路径配置"><a href="#静态文件路径配置" class="headerlink" title="静态文件路径配置"></a>静态文件路径配置</h3><h4 id="在settings配置文件中添加STATICFILES-DIRS配置"><a href="#在settings配置文件中添加STATICFILES-DIRS配置" class="headerlink" title="在settings配置文件中添加STATICFILES_DIRS配置"></a>在settings配置文件中添加STATICFILES_DIRS配置</h4><p>这里是模版的配置，设置优先在根目录中寻找templates模版文件夹</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">TEMPLATES <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">'BACKEND'</span><span class="token punctuation">:</span> <span class="token string">'django.template.backends.django.DjangoTemplates'</span><span class="token punctuation">,</span>
        <span class="token string">'DIRS'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>BASE_DIR <span class="token operator">/</span> <span class="token string">'templates'</span><span class="token punctuation">]</span>
        <span class="token punctuation">,</span>
        <span class="token string">'APP_DIRS'</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>
        <span class="token string">'OPTIONS'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'context_processors'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
                <span class="token string">'django.template.context_processors.debug'</span><span class="token punctuation">,</span>
                <span class="token string">'django.template.context_processors.request'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.auth.context_processors.auth'</span><span class="token punctuation">,</span>
                <span class="token string">'django.contrib.messages.context_processors.messages'</span><span class="token punctuation">,</span>
                <span class="token string">'post.mycontextprocessor.getRightInfo'</span>  <span class="token comment"># 引入分类，路径是app中的类中的函数</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="路径配置"><a href="#路径配置" class="headerlink" title="路径配置"></a>路径配置</h4><p>只有配置了静态文件在html文件中才能正确找到静态的文件</p>
<h4 id="在settings配置文件中"><a href="#在settings配置文件中" class="headerlink" title="在settings配置文件中"></a>在settings配置文件中</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">STATIC_URL <span class="token operator">=</span> <span class="token string">'static/'</span> <span class="token comment">#根目录下的static文件夹</span>
STATICFILES_DIRS <span class="token operator">=</span> <span class="token punctuation">[</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'static'</span><span class="token punctuation">,</span> <span class="token string">'css'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>  <span class="token comment"># BASE_DIR根目录，这条配置会指定对寻找文件的路径，这里我让他去寻找static文件夹中的css文件夹</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'static'</span><span class="token punctuation">,</span> <span class="token string">'js'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>join<span class="token punctuation">(</span>BASE_DIR<span class="token punctuation">,</span> <span class="token string">'static'</span><span class="token punctuation">,</span> <span class="token string">'fontawesome'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="在html中"><a href="#在html中" class="headerlink" title="在html中"></a>在html中</h4><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/style.css<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
其中的href路径，相当于
static/css/style.css<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/bundle.js<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="路由配置"><a href="#路由配置" class="headerlink" title="路由配置"></a>路由配置</h3><p>在项目名的文件夹中的urls文件中进行配置<br>在这里我将路由导向了app中的urls文件</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">#django自带的后台管理面板</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'post.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment"># 将路由导向app中的urls文件，核心路由配置</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="app中的路由配置"><a href="#app中的路由配置" class="headerlink" title="app中的路由配置"></a>app中的路由配置</h4><p>导入视图类来自app中的views文件<br>导入路由url配置类</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> post <span class="token keyword">import</span> views <span class="token comment">#app中的视图类</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> re_path <span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="在这里的路由配置方法主要有两种"><a href="#在这里的路由配置方法主要有两种" class="headerlink" title="在这里的路由配置方法主要有两种"></a>在这里的路由配置方法主要有两种</h4><h5 id="as-view的作用"><a href="#as-view的作用" class="headerlink" title="as_view的作用"></a>as_view的作用</h5><p>as_view()是Django中用于将类视图转换为可调用的视图函数的方法。<br>在Django中，类视图是基于类的视图的一种方式。类视图通过继承Django提供的一些基类，可以更清晰、灵活地定义视图逻辑，并提供了许多便捷的方法和属性。但在URL配置中，我们需要将视图映射到具体的URL路径上，这就需要将类视图转换为可调用的函数形式。<br>.as_view()方法就是用来实现这个转换的。当在URL配置中定义一个类视图时，我们通常会使用.as_view()<br>方法将其转换为可调用的视图函数，并将其作为参数传递给URL配置。</p>
<h4 id="path-常用"><a href="#path-常用" class="headerlink" title="path(常用):"></a>path(常用):</h4><p>&lt;&gt;中会匹配一个具体的数据，这个数据将会作为参数传递到视图函数当中</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">path<span class="token punctuation">(</span><span class="token string">'page/&lt;int:num&gt;/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>IndexViex<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'页面'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">#路由配置</span>
<span class="token comment">#参数一:路由将要拼接的url</span>
<span class="token comment">#参数二:指定路由的视图函数</span>
<span class="token comment">#参数一:别名</span>

<span class="token comment">#views视图函数</span>
<span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span>num<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token comment">#num设置了默认值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="re-path-使用正则表达式进行匹配"><a href="#re-path-使用正则表达式进行匹配" class="headerlink" title="re_path(使用正则表达式进行匹配):"></a>re_path(使用正则表达式进行匹配):</h4><p>用r’’来标识正则表达式的文字，<br>^$匹配开头导结尾<br>(page/.<em>?/)? page/后面匹配任意文本(除换行符)，</em>匹配多次，?可有可无，()?该段文本可有可无<br>post/ 必须存在的路径<br>(?P<postid>\d+)/ 这里使用了django中的专属语法，<br>&lt;&gt;中匹配一个数据，这个数据将会作为参数传递到视图函数当中</postid></p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">re_path<span class="token punctuation">(</span><span class="token string">r'^(page/.*?/)?post/(?P&lt;postid&gt;\d+)/$'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>DetailViex<span class="token punctuation">.</span>as_view<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'文章'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="视图函数的创建"><a href="#视图函数的创建" class="headerlink" title="视图函数的创建"></a>视图函数的创建</h3><p>在viexs文件中创建与视图一一应的视图类，同时必须继承View视图类<br>get方法，因为是类方法索引必须有self,同时，必须有一个名为request消息的参数，这个参数承载了请求者的信息，我们可以对他进行响应处理，在这个方法中将会接收访问该URL时候的get请求，get请求会在进入url时发起(<br>get请求也可以手动发起)，多用于获取数据</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">IndexViex</span><span class="token punctuation">(</span>View<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">get</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">#向浏览器返回视图，响应数据</span>
        <span class="token comment">#第一个参数是请求消息</span>
        <span class="token comment">#第二个参数是指定所要显示的页面，这里是名为index的html网页文件返回到浏览器，(这里会在前面我们在settings中配置的模版文件夹中自动寻找，当根目录中的模版文件夹中没有该html文件时才会来到app的模版文件夹中寻找)</span>
        <span class="token comment">#第三个参数是响应数据，一般为将要加载到网页中的动态数据,会在html中使用django模版语法进行加载</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="启动程序"><a href="#启动程序" class="headerlink" title="启动程序"></a>启动程序</h3><p>若前面的配置的没有问题，这时候已经可以启动项目查看网页的大体形态了<br><strong>这时候的页面还是静态的</strong><br>打开控制台输入启动命令，启动程序</p>
<pre class="line-numbers language-none"><code class="language-none">cd 项目文件夹
python manage.py runserver --post=8000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h1 id="动态数据"><a href="#动态数据" class="headerlink" title="动态数据"></a>动态数据</h1><h3 id="数据库配置"><a href="#数据库配置" class="headerlink" title="数据库配置"></a>数据库配置</h3><p>在settings文件中设置数据库</p>
<p>默认数据库SQLite，SQLite 是一个轻量级的关系型数据库管理系统，它以文件形式存储数据库，并且不需要独立的数据库服务器进程。这使得<br>SQLite 在开发和测试阶段非常方便，因为它不需要额外的数据库服务器安装和配置。</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.sqlite3'</span><span class="token punctuation">,</span>  <span class="token comment"># 数据库引擎</span>
        <span class="token string">'NAME'</span><span class="token punctuation">:</span> BASE_DIR <span class="token operator">/</span> <span class="token string">'db.sqlite3'</span><span class="token punctuation">,</span>  <span class="token comment"># 路径</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="mysql数据库的配置方法"><a href="#mysql数据库的配置方法" class="headerlink" title="mysql数据库的配置方法"></a>mysql数据库的配置方法</h3><p>使用mysql需要额外导入一个包</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">pip install mysqlclient<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>导入后对settings中的DATABASES进行配置</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python">DATABASES <span class="token operator">=</span> <span class="token punctuation">{</span>  <span class="token comment"># 配置数据库</span>
        <span class="token string">'default'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'ENGINE'</span><span class="token punctuation">:</span> <span class="token string">'django.db.backends.mysql'</span><span class="token punctuation">,</span>  <span class="token comment"># mysql数据库引擎</span>
            <span class="token string">'NAME'</span><span class="token punctuation">:</span> <span class="token string">'boke1'</span><span class="token punctuation">,</span>  <span class="token comment"># 数据库名</span>
            <span class="token string">'USER'</span><span class="token punctuation">:</span> <span class="token string">'root'</span><span class="token punctuation">,</span>  <span class="token comment"># 账号</span>
            <span class="token string">'PASSWORD'</span><span class="token punctuation">:</span> <span class="token string">'123456'</span><span class="token punctuation">,</span>  <span class="token comment"># 密码</span>
            <span class="token string">'HOST'</span><span class="token punctuation">:</span> <span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span>  <span class="token comment"># url</span>
            <span class="token string">'PORT'</span><span class="token punctuation">:</span> <span class="token string">'3306'</span><span class="token punctuation">,</span>  <span class="token comment"># 端口号</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="迁移文件"><a href="#迁移文件" class="headerlink" title="迁移文件"></a>迁移文件</h2><p>完成数据库的配置后，输入命令创建数据库的迁移文件，执行迁移文件</p>
<pre class="line-numbers language-angular2html" data-language="angular2html"><code class="language-angular2html">python manage.py makemigrations #创建迁移文件

python manage.py migrate #执行迁移文件<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>这时候在根目录下就会生成一个db.sqlite3数据库文件<br>下载驱动，对数据库进行连接</p>
<h3 id="后台管理系统"><a href="#后台管理系统" class="headerlink" title="后台管理系统"></a>后台管理系统</h3><p>这里使用django自带的管理系统<br>在应用的admin文件夹中配置</p>
<pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> __future__ <span class="token keyword">import</span> unicode_literals
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> <span class="token operator">*</span>

<span class="token comment"># Register your models here.</span>
admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Category<span class="token punctuation">)</span>  <span class="token comment"># 注册到admin控制面板中</span>
admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Tag<span class="token punctuation">)</span>
admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Post<span class="token punctuation">)</span>
admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>AdminUser<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="添加管理用户"><a href="#添加管理用户" class="headerlink" title="添加管理用户"></a>添加管理用户</h3><p><strong>对数据库中的auth_user表添加默认管理员账户(我用的是PyCharm右侧的数据库栏手动添加的数据)</strong></p>
<p>登入管理页面<a target="_blank" rel="noopener" href="http://127.0.0.1:8000/admin/">http://127.0.0.1:8000/admin/</a></p>
<p>输入你所设置的后台管理账户<br>对数据库添加基础测试数据</p>
<h1 id="功能-1"><a href="#功能-1" class="headerlink" title="功能"></a>功能</h1><h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><!--开启detail详细模式,并且没有设置摘要属性，显示全部内容-->
        
      </div>

      
    </div>

    
  </div>
  
    
<nav id="article-nav"><!--文章底部的左右跳转导航-->
  <a class="article-nav-btn left " href="/2023/07/16/Docker%E5%AE%B9%E5%99%A8/" title="Docker容器">
    <i class="fa-solid fa-angle-left"></i>
    <p class="title-text">
      
        Docker容器
      
    </p>
  </a>
  <a class="article-nav-btn right " href="/2023/07/11/%E5%8E%9F%E7%A5%9E%E5%B0%8F%E5%8A%A9%E6%89%8B/" title="原神小助手 Genshin Assistant (CN/EN) | 自动战斗,秘境,领日常,半自动委托">

    <p class="title-text">
      
        原神小助手 Genshin Assistant (CN/EN) | 自动战斗,秘境,领日常,半自动委托
      
    </p>
    <i class="fa-solid fa-angle-right"></i><!--向右-->
  </a>
</nav>

<!--导入组件-->
  
</article>



    </div>
    <div id="footer-wrapper">
      <footer id="footer"><!--底部栏-->
    
    <div id="footer-info" class="inner">
        
        © 2023-2023 by 浅笑笑笑<br>
        <!--© 2023-2023 by 浅笑笑笑
        bilibili|GitHub|GitHub-->
        <a href="https://space.bilibili.com/59202265?spm_id_from=333.1007.0.0" target="_blank">Bilibili</a>|<a href="#" target="_blank">Steam</a>|<a href="https://github.com/dajavv" target="_blank">GitHub</a><br>
        <!--        Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & Theme <a-->
        <!--                href="https://github.com/saicaca/hexo-theme-vivia">Vivia</a>-->

    </div>
</footer>

    </div>
    <div class="back-to-top-wrapper"><!--回到顶部按键-->
    <button id="back-to-top-btn" class="back-to-top-btn" onclick="topFunction()">
        <span class="material-symbols-rounded">keyboard_arrow_up</span>
    </button>
</div>



  </div>
  


<script src="/bundle.js"></script><script>
  let dropdownBtn = document.getElementById("nav-menu-btn");/*下拉按键*/
  let dropdownEle = document.getElementById("nav-dropdown");
  dropdownBtn.onclick = function() {/*菜单栏点击*/
    dropdownEle.classList.toggle("hidden");
  }
;

    function topFunction() {
        window.scroll({ top: 0, behavior: 'smooth' });
    }
    let btn = document.getElementById('back-to-top-btn');
    function scrollFunction() {
        if (document.body.scrollTop > 600 || document.documentElement.scrollTop > 600) {
            btn.style.opacity = 1;
        } else {
            btn.style.opacity = 0;
        }
    }
    window.onscroll = function() {//滚动就会触发
        scrollFunction();
    }
</script></body></html>